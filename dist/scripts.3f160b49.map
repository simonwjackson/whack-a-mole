{"version":3,"sources":["src\\scripts\\utils.js","src\\scripts\\state.js","src\\scripts\\index.js","node_modules\\parcel-bundler\\src\\builtins\\bundle-url.js","node_modules\\parcel-bundler\\src\\builtins\\css-loader.js"],"names":["curry","xs","length","Error","fn","bind","pipe","ops","reduce","a","b","arg","rand","min","max","Math","ceil","floor","random","$","document","querySelector","query","$$","querySelectorAll","html","el","data","innerHTML","getById","getElementById","createEl","tag","content","classes","id","createElement","map","classList","add","cl","append","to","appendChild","prepend","unload","addEvent","name","addEventListener","getByPlacement","num","between","when","pred","whenTrueFn","x","subtract","moles","score","plays","time","settings","timing","timer","gameTimer","gameLoop","render","state","moleState","idx","remove","updateMole","newMoleState","setTimeout","start","interval","setInterval","clearInterval","gameInterval","stop","reset","createButtons","app","resetBtn","stopBtn","startBtn","whack","isClickable","contains","placement","parseInt","dataset","sfx","currentTime","play","setupEvents","e","target","stopPropagation","numPadToGridPlacement","numpadInput","numWhack","tryWhack","key","init","grid","img","setAttribute","mole","item","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","i","module"],"mappings":"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","file":"scripts.3f160b49.map","sourceRoot":"..","sourcesContent":["const curry = fn => {\r\n  return (...xs) => {\r\n    if (xs.length === 0) {\r\n      throw Error('EMPTY INVOCATION')\r\n    }\r\n    if (xs.length >= fn.length) {\r\n      return fn(...xs);\r\n    }\r\n    return curry(fn.bind(null, ...xs))\r\n  }\r\n}\r\nexport const pipe = (...ops) => ops.reduce((a, b) => (arg) => b(a(arg))) \r\nexport const rand = (min, max) => {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n\r\n  return Math.floor(Math.random() * (max - min + 1)) + min //The maximum is inclusive and the minimum is inclusive\r\n}\r\nexport const $ = query => document.querySelector(query)\r\nexport const $$ = query => document.querySelectorAll(query)\r\nexport const html = curry((el, data) => {\r\n  el.innerHTML = data\r\n  return el\r\n})\r\nexport const getById = query => document.getElementById(query)\r\nexport const createEl = curry((tag, content, classes, id) => {\r\n  const el = document.createElement(tag)\r\n  html(el, content)\r\n  classes.map(cl => el.classList.add(cl))\r\n  if (id) el.id = id\r\n  return el\r\n})\r\nexport const append = curry((to, el) => {\r\n  to.appendChild(el)\r\n  return el\r\n})\r\nexport const prepend = curry((to, el) => {\r\n  to.prepend(el)\r\n  return el\r\n})\r\nexport const unload = el => html(el, '')  \r\nexport const addEvent = curry((name, fn, el) => {\r\n  el.addEventListener(name, fn)\r\n  return el\r\n})\r\nexport const getByPlacement = num => $(`.grid__item[data-placement=\"${num}\"]`)\r\nexport const between = curry((min, max, num) => num >= min && num <= max)\r\nexport const when = curry((pred, whenTrueFn, x) => pred(x) ? whenTrueFn(x) : x)\r\nexport const subtract = curry((a, b) => b - a)\r\n","export default {\r\n  moles: [\r\n    0, 0, 0,\r\n    0, 0, 0,\r\n    0, 0, 0\r\n  ],\r\n  score: 0,\r\n  plays: 0,\r\n  time: 0,\r\n  settings: {\r\n    timing: {\r\n      timer: 30000,\r\n      max: 2000,\r\n      min: 1000\r\n    }\r\n  },\r\n  gameTimer: null,\r\n  gameLoop: null\r\n}","import '../styles/main.css'\r\nimport mole from '../images/mole.png'\r\nimport {\r\n  rand,\r\n  $,\r\n  getById,\r\n  html,\r\n  unload,\r\n  createEl,\r\n  prepend,\r\n  pipe,\r\n  addEvent,\r\n  getByPlacement,\r\n  when,\r\n  between,\r\n  subtract } from './utils'\r\nimport state from './state'\r\n\r\nconst render = () => {\r\n  state.moles.map((moleState, idx) => {\r\n    const el = getByPlacement(idx)\r\n    if (moleState === 1) el.classList.add('is-active')\r\n    else el.classList.remove('is-active')\r\n  })\r\n\r\n  html(getById('score'), `Score: ${state.score}`)\r\n  html(getById('time'), `Time: ${state.time / 1000}`)\r\n}\r\n\r\nconst updateMole = (moles, idx, state) => {\r\n  moles[idx] = state\r\n  render()\r\n}\r\n\r\nconst gameLoop = () => {\r\n  state.moles.map((moleState, idx) => {\r\n    const newMoleState = rand(0, 1)\r\n    updateMole(state.moles, idx, newMoleState)\r\n\r\n    if (newMoleState === 1) {\r\n      setTimeout(() => {\r\n        updateMole(state.moles, idx, 0)\r\n      }, rand(state.settings.timing.min, state.settings.timing.max))\r\n    }\r\n  })\r\n\r\n  render()\r\n}\r\n\r\nconst start = () => {\r\n  const interval = 1000\r\n\r\n  gameLoop()\r\n  state.gameTimer = setInterval(() => {\r\n    if (state.time <= interval) {\r\n      state.moles = state.moles.map(() => 0)\r\n      state.time = 0\r\n      clearInterval(state.gameTimer)\r\n    } else {\r\n      state.time -= interval\r\n    }\r\n    render()\r\n  }, interval)\r\n\r\n  state.gameInterval = setInterval(() => {\r\n    if (state.time <= 0) {\r\n      clearInterval(state.gameInterval)\r\n      return\r\n    }\r\n\r\n    gameLoop()\r\n  }, state.settings.timing.max)\r\n}\r\n\r\nconst stop = () => {\r\n  clearInterval(state.gameTimer)\r\n  clearInterval(state.gameInterval)\r\n  render()\r\n}\r\n\r\nconst reset = () => {\r\n  stop()\r\n  state.time = state.settings.timing.timer\r\n  state.score = 0\r\n  render()\r\n}\r\n\r\nconst createButtons = () => {\r\n  const app = $('.top')\r\n\r\n  const resetBtn = createEl('button', 'Reset', ['button', 'button--reset'], 'reset')\r\n  addEvent('click', reset, resetBtn)\r\n  prepend(app, resetBtn)\r\n\r\n  const stopBtn = createEl('button', 'Stop', ['button', 'button--stop'], 'stop')\r\n  addEvent('click', stop, stopBtn)\r\n  prepend(app, stopBtn)\r\n\r\n  const startBtn = createEl('button', 'Start', ['button'], 'start')\r\n  addEvent('click', start, startBtn)\r\n  prepend(app, startBtn)\r\n}\r\n\r\nconst whack = el => {\r\n  const isClickable = el.classList.contains('grid__item')\r\n  if (!isClickable) return\r\n\r\n  const placement = parseInt(el.dataset.placement)\r\n  const moleState = state.moles[placement]\r\n\r\n  if (moleState === 1) {\r\n    const sfx = $('#whack')\r\n    sfx.currentTime = 0 \r\n    sfx.play()\r\n    state.score++\r\n    updateMole(state.moles, placement, 0)\r\n  }\r\n}\r\n\r\nconst setupEvents = () => {\r\n  $('.grid')\r\n    .addEventListener('mousedown', e => {\r\n      whack(e.target)\r\n      e.stopPropagation()\r\n    })\r\n}\r\n\r\nconst numPadToGridPlacement = num => {\r\n  if (num <= 3) return num + 6\r\n  else if (num > 6) return num - 6\r\n  return num\r\n}\r\n\r\nconst numpadInput = () => {\r\n  const numWhack = pipe(parseInt, numPadToGridPlacement, subtract(1), getByPlacement, whack)\r\n  const tryWhack = when(between(1, 9), numWhack)\r\n  document.addEventListener('keypress', e => tryWhack(e.key))\r\n}\r\n\r\nconst init = () => {\r\n  createButtons()\r\n  setupEvents()\r\n  numpadInput()\r\n\r\n  const grid = $('.grid')\r\n  unload(grid)\r\n\r\n  state.time = state.settings.timing.timer\r\n\r\n  state.moles.map((el, idx) => {\r\n    const img = document.createElement('img')\r\n    img.classList.add('img-responsive') \r\n    img.setAttribute('src', mole)\r\n    \r\n    const item = document.createElement('div')\r\n    item.classList.add('grid__item')\r\n    item.dataset.placement = idx\r\n    item.appendChild(img)\r\n\r\n    grid.appendChild(item)\r\n  })\r\n\r\n  render()\r\n}\r\n\r\naddEvent('DOMContentLoaded', init, document)","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}